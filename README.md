# Quick Label - 快捷图片标注工具

一款高效、易用的桌面应用程序，用于对图片进行文字描述标注。

## 功能特点

- **智能图片管理**：使用SHA256哈希值确保图片与标签的准确对应
- **分片加载策略**：支持大量图片的高效处理，自动内存管理
- **实时保存**：标注内容自动保存，支持断点续标
- **直观界面**：左右布局，图片显示与标注输入分离
- **进度跟踪**：实时显示标注进度和文件信息



## 系统要求

- Windows/macOS/Linux
- Python 3.8+
- PyQt6
- Pillow

## 安装和运行

### 开发环境运行

1. 克隆项目到本地

2. 激活虚拟环境：

	```bash
	./.venv/Scripts/activate
	```

3. 安装依赖：

	```bash
	uv add PyQt6 Pillow
	```

4. 运行应用程序：

	```bash
	python main.py
	```

### 使用说明

1. **选择工作目录**：点击"文件"菜单中的"选择工作目录"，选择包含图片的文件夹
2. **开始标注**：
	- 左侧显示当前图片
	- 右侧文本框输入图片描述
	- 使用"上一张"/"下一张"按钮切换图片
3. **自动保存**：标注内容会自动保存到工作目录下的`labels.json`文件
4. **断点续标**：重新打开同一目录时，会自动加载之前的标注进度

## 支持的图片格式

- JPG/JPEG
- PNG
- BMP
- TIFF/TIF

## 数据格式

标注数据保存在`labels.json`文件中，格式如下：

```json
{
  "a1b2c3d4...e5f6": "图片描述内容1",
  "f6e5d4c3...b2a1": "图片描述内容2"
}
```

其中键为图片的SHA256哈希值，值为对应的标注内容。

## 性能优化

- **分片加载**：图片数量少于100张时全部加载，否则分批加载
- **内存管理**：自动监控内存使用，避免超出1GB限制
- **后台计算**：哈希值计算在后台线程进行，不影响UI响应

## 开发架构

项目采用MVC架构模式：

- `main.py`：程序入口
- `ui_mainwindow.py`：UI界面层
- `app_controller.py`：控制器层
- `data_manager.py`：数据模型层

## 打包发布

使用PyInstaller打包为可执行文件：

```bash
pyinstaller --name QuickLabel --windowed --onefile main.py
```

## 许可证

本项目采用MIT许可证。
