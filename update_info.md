# Quick Label V0.0.3 更新说明

## 版本信息
- **版本号**: V0.0.3
- **发布日期**: 2025年8月19日
- **更新类型**: 重大功能更新

## 新增功能

### 1. 多模式标注系统
- **描述模式**: 专注于文字描述标注，适合详细的图片内容描述
- **标签模式**: 快速标签选择标注，适合分类和快速标记
- **混合模式**: 同时支持文字描述和标签选择，提供最大的标注灵活性
- 支持运行时动态切换标注模式，无需重启应用

### 2. 智能标签管理系统
- **标签缓存机制**: 自动保存和加载历史使用的标签
- **标签提取功能**: 从现有标注文件中自动提取标签到可用列表
- **快速标签选择**: 通过复选框快速选择多个标签
- **新标签添加**: 支持实时添加新标签并自动加入可用列表
- **标签持久化**: 标签信息保存在labels_cache.json文件中

### 3. 图片查看器增强
- **多级缩放支持**: 支持10%-500%的图片缩放范围
- **鼠标滚轮缩放**: 按住Ctrl键配合鼠标滚轮进行图片缩放
- **缩放控制面板**: 提供缩放滑块、放大/缩小按钮和重置功能
- **自适应显示**: 100%缩放时自动适应显示区域大小
- **滚动区域支持**: 大图片支持滚动浏览

### 4. 多语言界面支持
- **中英文切换**: 支持中文和英文界面动态切换
- **完整本地化**: 所有界面元素、菜单、按钮、提示信息均支持多语言
- **语言设置持久化**: 语言选择自动保存，下次启动时保持
- **实时切换**: 无需重启应用即可切换界面语言

### 5. 数据格式升级
- **新字段结构**: 引入describe和label字段，提供更清晰的数据组织
- **向后兼容**: 完全兼容v0.0.1和v0.0.2版本的数据格式
- **智能数据迁移**: 自动识别和转换旧格式数据
- **统一数据接口**: 内部统一使用新的数据结构

## 功能改进

### 1. 用户界面优化
- **菜单系统重构**: 新增标注模式菜单和语言选择菜单
- **布局优化**: 改进右侧控制面板布局，提供更好的用户体验
- **状态反馈**: 增强操作状态提示和进度显示
- **快捷键支持**: 保持原有快捷键功能

### 2. 数据处理增强
- **标注数据结构优化**: 支持复杂的标注数据组织
- **文件格式兼容性**: 智能识别和处理不同版本的数据格式
- **数据完整性保护**: 增强数据保存和加载的错误处理
- **性能优化**: 优化大量标签的处理性能

### 3. 标注工作流改进
- **模式切换便利性**: 可在标注过程中随时切换标注模式
- **标签复用效率**: 历史标签自动缓存，提高标注效率
- **批量操作支持**: 支持快速选择多个标签
- **智能内容管理**: 根据标注模式智能管理标注内容

## 技术改进

### 1. 架构优化
- **模块化设计**: 改进代码组织结构，提高可维护性
- **组件分离**: UI组件、数据处理、语言管理等功能模块化
- **接口标准化**: 统一组件间的通信接口

### 2. 性能提升
- **内存使用优化**: 优化图片缩放和显示的内存占用
- **响应速度提升**: 改进UI响应速度和操作流畅性
- **资源管理**: 更好的资源分配和释放机制

### 3. 稳定性增强
- **错误处理**: 增强异常情况的处理能力
- **数据安全**: 提高数据保存和加载的可靠性
- **兼容性保证**: 确保与旧版本数据的完全兼容

## 数据格式变更

### 新增字段
```json
{
  "describe": "图片的详细描述内容",
  "label": ["标签1", "标签2", "标签3"]
}
```

### 兼容性说明
- 完全兼容v0.0.1版本的labels.json格式
- 完全兼容v0.0.2版本的单文件JSON格式
- 自动识别和转换旧格式数据
- 新旧格式可以在同一工作目录中共存

## 使用建议

### 1. 标注模式选择
- **纯描述任务**: 选择描述模式，专注于文字描述
- **分类标记任务**: 选择标签模式，快速进行分类标注
- **复合标注任务**: 选择混合模式，同时进行描述和标签标注

### 2. 标签管理最佳实践
- 在开始标注前，先添加常用标签到可用列表
- 利用标签缓存功能，重复使用历史标签
- 定期整理标签列表，保持标签的一致性

### 3. 图片查看优化
- 使用Ctrl+滚轮进行快速缩放
- 对于大图片，适当缩放以查看细节
- 利用重置功能快速回到适合的显示比例

## 升级注意事项

### 1. 数据安全
- 升级前建议备份现有标注数据
- 首次运行时会自动转换数据格式
- 原有数据文件不会被修改或删除

### 2. 功能迁移
- 原有的标注内容会自动迁移到新的数据结构
- 标注工作流程保持不变
- 新功能为可选使用，不影响原有操作习惯

### 3. 性能考虑
- 大量标签的项目可能需要额外的加载时间
- 建议定期清理不需要的标签缓存
- 图片缩放功能可能增加内存使用

## 完整功能列表

- ✅ 多模式标注（描述/标签/混合）
- ✅ 智能标签管理（缓存/提取/复用）
- ✅ 图片查看增强（缩放/滚轮/控制面板）
- ✅ 多语言界面（中英文动态切换）
- ✅ 智能图片管理（SHA256哈希值）
- ✅ 分片加载策略（大量图片高效处理）
- ✅ 灵活保存方式（自动/手动模式）
- ✅ 自定义保存路径
- ✅ 数据备份保护（base64编码）
- ✅ 直观界面（左右布局）
- ✅ 进度跟踪（实时显示）
- ✅ 版本管理（动态显示）
- ✅ 向后兼容（支持旧格式）

## 后续计划

### 短期计划
- 收集用户反馈，优化用户体验
- 修复可能发现的问题和bug
- 完善多语言支持

### 长期计划
- 增加更多标注模式和工具
- 支持更多图片格式和数据导出格式
- 开发批量处理和自动化功能

## 技术支持

如遇到问题或有功能建议，请通过以下方式联系：
- GitHub Issues: https://github.com/xinyang20/quick_label/issues
- 邮箱: gaoxinyang317@gmail.com

感谢您使用Quick Label，希望新版本能为您的标注工作带来更好的体验！
